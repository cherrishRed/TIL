# Key Value Observing 
21.02.24

mood: 😣 😙

<! 공부하며 작성한 내용이며 틀린 내용이 있을 수 있습니다. >

## 오늘 한 것
- 세션 KVO 와 notification, initionalizer 
- 사파리와 enum 문서 뿌시기
- STEP1 refactoring

---

## 문제점 / 고민한점
* 클래스와 구조체 그리고 열거형의 접근 
* KVO 와 delegate의 차이 
* 열거형 연관값

## 학습 내용
### 🗝 KVO란? 
KVO는 Key-Value observing 이다. 
다른 오브젝트의 프로퍼티 속성이 변경되었을 때, 오브젝트에서 변경사항을 알 수 있게 해주는 것 이다. 
KVO는 NSObject 를 상속받은 클래스에서 사용할 수 있다. 

오브젝트끼리의 응집력(끈끈하게 묶어줌)이 좋기 때문에, 항상 같이 다녀야 하고 코드의 재활용성이 떨어진다. 


### 🚨 Notification
오브젝트와 오브젝트 사이의 Notification center 라는 중계소가 있어 변경 사항을 전달 해 주는 것이다.
단점은 서로의 발언지를 추적하기 어렵다. 

### 🤷🏻‍♀️ 이 둘은 언제 사용할까? 
KVO : 오브젝트끼리 서로가 알고 있는 상태이고, 프로퍼티의 변화만 감지하고 싶을 때 
Notification : 서로 멀리 떨어져 있는 상황에서, 중계인을 통해서 모든 변경 사항을 감시하고 싶을 때 

> KVO의 경우 NSObject 상속 받아야 사용할 수 있는데 이것이 단점인가? 

우선 스위프트에서는 인스턴스라은 말을 사용하는데 오브젝트라고 문서에서 명시한 이유는 이것이 클래스의 오브젝트 안에서만 일어나는 일이기 때문이다. 

우선 NSObject 란? 
swift에서는 부모 클래스를 필수로 가질 필요가 없지만, Object-C 는 무조건 최상위 클래스로 NSObject 를 상속 받아야 한다. 

우리가 계속 Object-C 코드를 사용하는 이유는, swiftUI, combine 을 제외한 모든 프레임 워크가 Object-C 를 기반으로 구현되어 있기 때문이다.

사실은 UIkit 도 NotipicationCenter 도 NSObject 를 상속 받고 있다. 꼭 단점이라고 보기는 어렵다. 

> UIkit 은 왜 KVO 를 지원하지 않을까? 
지원하지 않는다는 것이다. 
지원은 하지만 보장은 못한다는 의미에 더 가깝다. 

### 🐹 KVO 와 딜리게이션의 차이 
둘의 가장 큰 차이는 딜리게이션은 둘 사이의 약속을 미리 정해 놔야 한다는 것에 있다. 

---
이니셜라이저에 대해서 아직도 공부하고 있는데 오늘 세션을 들으면서 그래도 조금은, 정말 조금은 알 것 같다. 

그리고 enum의 연관값, 재귀 등에 대해서도 공부했는데 조금더 정리가 필요할 것 같다. 