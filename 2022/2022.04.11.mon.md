# ğŸ¥³ JSON ìœ¼ë¡œ ì •ë³´ë¥¼ ë°›ì•„ë³´ì!
21.04.11.mon

mood: ğŸ¤¯

<! ê³µë¶€í•˜ë©° ì‘ì„±í•œ ë‚´ìš©ì´ë©° í‹€ë¦° ë‚´ìš©ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. >

## ì˜¤ëŠ˜ í•œ ê²ƒ
- tableView ì„¸ì…˜ ë“¤ìœ¼ë©° ì°ë¨¹
- JSON ê³µë¶€ 
- STEP1 ì§„í–‰

## ë¬¸ì œì  / ê³ ë¯¼í•œì 
- table ë„ˆë¬´ë„ˆë¬´ë„ˆë¬´ ì–´ë µë‹¤. 
- JSON ì„ ë””ì½”ë”© í•˜ê³  ì¸ì½”ë”© í•˜ëŠ” ì½”ë“œê°€ ì–´ëŠ ìœ„ì¹˜ì— ìˆìœ¼ë©´ ì¢‹ì„ê¹Œ?

---

## í•™ìŠµ ë‚´ìš©

JavaScript Object Notation ìœ¼ë¡œ

ì´ ê°ì²´ë¥¼ ë‹¤ë¥¸ ì‹œìŠ¤í…œì—ì„œ ì“°ê³  ì‹¶ì„ ë•Œ
ì½ê³  ì“°ëŠ” ë°©ì‹ì´ ì–¸ì–´ë§ˆë‹¤ ë‹¤ë¥´ê³  ì»´í“¨í„° ë§ˆë‹¤ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë°ì´í„°ë¥¼ íŠ¹ì • íŒŒì¼ë¡œ ë³€ê²½í•˜ê³  ë‹¤ì‹œ ì½ì–´ì˜¤ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.

## JSON ì´ë€?
* ì›ë˜ëŠ” Javascriptì—ì„œ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì‹ì„ ì˜ë¯¸í•œë‹¤.
* ì›ë˜ëŠ” ì „ì†¡ìš©ìœ¼ë¡œ XML íŒŒì¼ì„ ë§ì´ ì‚¬ìš©í–ˆëŠ”ë° XMLì€ ê¸°ê³„ê°€ ì´í•´í•˜ê¸° ì‰½ì§€ë§Œ, ì‚¬ëŒì´ ë³´ê¸°ì—ëŠ” ì“¸ë°ì—†ëŠ” í…Œê·¸ê°€ ì—†ê³  ì½ê¸°ê°€ ë³µì¡í•´ì„œ ì§€ê¸ˆì€ ëŒ€ë¶€ë¶„ JSONì„ ì‚¬ìš©í•œë‹¤.
* JSONì€ ë°ì´í„° í‘œì‹œí•˜ëŠ” í‘œí˜„ ë°©ë²•ì¼ ë¿ì´ë‹¤.

ì•½ì†ëœ í‘œì¤€ì— ë”°ë¼ 0 ê³¼ 1 ë¡œ ë°”ê¾¸ê³  ë‹¤ì‹œ ë°›ì•„ì„œ í•´ì„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.
swift ì—ì„œëŠ” data ë¼ëŠ” íƒ€ì…ìœ¼ë¡œ ë‚˜íƒ€ëƒ„.

## JSON ë¬¸ë²• 
* key / value ê°€ ì¡´ì¬ keyê°’ì´ë‚˜ ë¬¸ìì—´ì€ í•­ìƒ ìŒë”°ì˜´í‘œë¡œ í‘œê¸°
* ê°ì²´, ë°°ì—´ ë“±ì„ í‘œê¸°
* ì›í•˜ëŠ” ë§Œí¼ ì¤‘ì²© ê°€ëŠ¥ 
* null, number, string, array, object, boolean ì‚¬ìš© ê°€ëŠ¥.

```swift
{
    "name": "Durian",
    "points": 600,
    "description": "A fruit with a distinctive scent."
}
```

## Codable
ì´ íƒ€ì…ì€ ìŠ¤ìŠ¤ë¡œë¥¼ ì™¸ë¶€ì˜ ìˆëŠ” í‘œí˜„ì‹ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. 

ì–´ë–¤ ê°ì²´ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ê³  ì‹¶ê±°ë‚˜, ì´ ê°ì²´ì˜ í˜•ì‹ìœ¼ë¡œ JSON íŒŒì¼ì„ ë°›ì•„ì˜¤ê³  ì‹¶ë‹¤ë©´ ì´ ê°ì²´ëŠ” Codable protocol ì„ ì±„íƒí•´ì•¼ í•œë‹¤.


## JSONEncoder (swift -> JSON)
```swift
// JSON ìœ¼ë¡œ ë°”ê¿€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ êµ¬ì¡°ì²´
struct GroceryProduct: Codable {
    var name: String
    var points: Int
    var description: String?
}

let pear = GroceryProduct(name: "Pear", points: 250, description: "A ripe pear.")


let encoder = JSONEncoder()
// ê¼­ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê±´ ì•„ë‹ˆì§€ë§Œ ì´ê±¸ ì¨ì•¼ í•œì¤„ì— ì•ˆë‚˜ì˜¤ê³  ìš°ë¦¬ê°€ ë³´ê¸° ì¢‹ì€ í˜•ì‹ìœ¼ë¡œ ë‚˜ì˜¨ë‹¤. 
encoder.outputFormatting = .prettyPrinted

//ì¸ì½”ë”© í•˜ëŠ” ê³¼ì •
let data = try encoder.encode(pear)

//String data ë¥¼ ì‚¬ìš©í•´ì„œ data í˜•ì‹ìœ¼ë¡œ ë°”ê¿”ì£¼ì–´ì•¼ swift ê°€ ì•Œ ìˆ˜ ìˆë‹¤. 
//ì•ˆ ê·¸ëŸ¬ë©´ bytes ì–´ì©Œêµ¬ í•´ì„œ ì‚¬ëŒì´ ì½ì„ ìˆ˜ê°€ ì—†ë‹¤.
print(String(data: data, encoding: .utf8)!)

/* Prints:
 {
   "name" : "Pear",
   "points" : 250,
   "description" : "A ripe pear."
 }
*/
```


## JSONDecoder (JSON -> swift)
```swift
truct GroceryProduct: Codable {
    var name: String
    var points: Int
    var description: String?
}
// ì—¬ê¸°ë¶€í„° 
let json = """
{
    "name": "Durian",
    "points": 600,
    "description": "A fruit with a distinctive scent."
}
""".data(using: .utf8)!
//ì—¬ê¸° ê¹Œì§€ëŠ” ì‚¬ì‹¤ ì™¸ë¶€ì˜ íŒŒì¼ë¡œ ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. ì´ íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ì„œ 
//.data ë¥¼ í•´ì£¼ì–´ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤. 

let decoder = JSONDecoder()
let product = try decoder.decode(GroceryProduct.self, from: json)

print(product.name) // Prints "Durian"
```

### íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°
**path ë¥¼ ì‚¬ìš©í•´ ë¶ˆëŸ¬ì˜¤ê¸°**
```swift
// ê²½ë¡œ ì§€ì •í•˜ê¸° path ëŠ” ì§€ê¸ˆ ê·¸ëƒ¥ String
let path = "/Users/Desktop/person.json"
// path ë¥¼ ì´ìš©í•´ json file ê°€ì ¸ì˜¤ê¸°
let jsonfile = try? String(contentsOfFile: path)
// jsonfile ì„ ë°ì´í„°í™” í•˜ê¸° (swift ì—ì„œ ì“¸ìˆ˜ ìˆê²Œ)
let jsondata = jsonfile.data(using: .utf8)
// ê·¸ë¦¬ê³  ì´ jsondata ë¥¼ ë””ì½”ë”© í•´ì£¼ë©´ ëœë‹¤.

```
ì§€ê¸ˆì€ User Desktop ì—ì„œ ê²½ë¡œë¥¼ ê°€ì ¸ì™”ì§€ë§Œ ë§Œì•½ xcode í´ë” ì•ˆì— íŒŒì¼ì´ ìˆë‹¤ë©´ 
```swift
// ê²½ë¡œë¥¼ ì´ë ‡ê²Œ ì§€ì •í•˜ë©´ ëœë‹¤.
guard let path = Bundle.main.path(forResource: "Durian", ofType: "json") else { return }
```

**asset ì„ ì‚¬ìš©í•´ ë¶ˆëŸ¬ì˜¤ê¸°**
```swift
//init ì„ ê¼­ í•˜ë©´ì„œ ë°ë¦¬ê³  ì™€ì•¼ í•œë‹¤.
guard let jsonAsset = NSDataAsset.init(name: "Durian") else { return nil }
```

---

[JSONEncoder ê³µì‹ë¬¸ì„œ](https://developer.apple.com/documentation/foundation/jsonencoder)
[JSONDecoder ê³µì‹ë¬¸ì„œ](https://developer.apple.com/documentation/foundation/jsondecoder)
